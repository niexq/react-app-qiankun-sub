{"version":3,"sources":["../webpack/universalModuleDefinition","components/LibVersion.jsx","components/HelloModal.jsx","pages/Home.jsx","App.js","reportWebVitals.js","index.js","public-path.js"],"names":["root","factory","exports","module","define","amd","this","className","reactVersion","antdVersion","useState","visible","setVisible","onClick","onOk","onCancel","title","style","borderColor","About","lazy","RouteExample","basename","window","__POWERED_BY_QIANKUN__","exact","to","activeClassName","type","fallback","path","component","Home","App","props","storeState","store","getGlobalState","useEffect","onGlobalStateChange","state","prevState","Modal","confirm","content","JSON","stringify","setGlobalState","user","name","LibVersion","HelloModal","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getSubRootContainer","container","querySelector","document","render","ReactDOM","StrictMode","storeTest","value","prev","console","log","ignore","bootstrap","a","mount","unmount","unmountComponentAtNode","__webpack_public_path__","__INJECTED_PUBLIC_PATH_BY_QIANKUN__"],"mappings":"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","file":"static/js/main.f29bcaf3.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-app-qiankun-sub-main\"] = factory();\n\telse\n\t\troot[\"react-app-qiankun-sub-main\"] = factory();\n})(this, function() {\nreturn ","import React, { version as reactVersion } from 'react';\nimport { version as antdVersion } from 'antd';\n\nexport default function() {\n  return (\n    <>\n      <h1 className=\"app-title\">React Demo</h1>\n      <p className=\"app-lib\">\n        React version: {reactVersion}, AntD version: {antdVersion}\n      </p>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button, Modal } from 'antd';\n\nexport default function() {\n  const [visible, setVisible] = useState(false);\n  return (\n    <>\n      <Button onClick={() => setVisible(true)}>CLICK ME</Button>\n      <Modal visible={visible} onOk={() => setVisible(false)} onCancel={() => setVisible(false)} title=\"qiankun\">\n        Probably the most complete micro-frontends solution you ever met\n      </Modal>\n    </>\n  );\n}\n","import React from 'react';\n\nexport default function() {\n  return (\n    <h2 className=\"app-nav-item\" style={{ borderColor: 'red' }}>\n      Home\n    </h2>\n  );\n}\n","import React, { lazy, Suspense, useEffect } from 'react';\nimport { BrowserRouter as Router, NavLink, Route, Switch } from 'react-router-dom';\nimport { Divider, Button, Space, Modal } from 'antd';\n\nimport 'antd/dist/antd.min.css';\nimport './App.css';\n\nimport LibVersion from './components/LibVersion';\nimport HelloModal from './components/HelloModal';\n\nimport Home from './pages/Home';\n// import About from './pages/About';\nconst About = lazy(() => import('./pages/About'));\n\nconst RouteExample = () => {\n  return (\n    <Router basename={window.__POWERED_BY_QIANKUN__ ? '/react' : '/'}>\n      <nav>\n        <NavLink exact to=\"/\" className='app-mian-link' activeClassName='app-mian-link-active'>Home</NavLink>\n        <Divider type=\"vertical\" />\n        <NavLink exact to=\"/about\" className='app-mian-link' activeClassName='app-mian-link-active'>About</NavLink>\n      </nav>\n      <Suspense fallback={null}>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/about\" exact component={About} />\n        </Switch>\n      </Suspense>\n    </Router>\n  );\n};\n\nexport default function App(props) {\n  const storeState = props?.store?.getGlobalState?.();\n  useEffect(() => {\n    // 注册一个观察者函数\n    props?.store?.onGlobalStateChange((state, prevState) => {\n      // state: 变更后的状态; prevState: 变更前的状态\n      Modal.confirm({\n        title: '主应用数据变化了',\n        content: `主应用改变后的数据为：${JSON.stringify(state)}`,\n      })\n    });\n  }, [])\n  const onAppendClick = () => {\n    props?.store?.setGlobalState({\n      user: {\n        name: 'button click'\n      }\n    });\n  }\n  return (\n    <div className=\"app-main\">\n      <span>{`子应用react中显示-主应用的数据：${JSON.stringify(storeState)}`}</span>\n      <Button type='primary' onClick={onAppendClick}>更改主应用数据</Button>\n      <LibVersion />\n      <HelloModal />\n      <Divider />\n      <RouteExample />\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './public-path';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nfunction getSubRootContainer(container) {\n  return container ? container.querySelector('#sub-react-root') : document.querySelector('#sub-react-root');\n}\n\nfunction render(props) {\n  const { container } = props;\n  ReactDOM.render(\n    <React.StrictMode>\n      <App store={{...props}} />\n    </React.StrictMode>,\n    getSubRootContainer(container),\n  );\n}\n\nfunction storeTest(props) {\n  props.onGlobalStateChange((value, prev) => console.log(`[onGlobalStateChange - ${props.name}]:`, value, prev), true);\n  props.setGlobalState({\n    ignore: props.name,\n    user: {\n      name: props.name,\n    },\n  });\n}\n\nif (!window.__POWERED_BY_QIANKUN__) {\n  render({});\n}\n\nexport async function bootstrap() {\n  console.log('react app bootstraped');\n}\n\nexport async function mount(props) {\n  console.log('props from main framework', props);\n  storeTest(props);\n  render(props);\n}\n\nexport async function unmount(props) {\n  const { container } = props;\n  ReactDOM.unmountComponentAtNode(getSubRootContainer(container));\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","if (window.__POWERED_BY_QIANKUN__) {\n  // eslint-disable-next-line no-undef\n  __webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;\n}\n"],"sourceRoot":""}